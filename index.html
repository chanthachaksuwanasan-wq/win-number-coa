<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>เขียนจากโปรแกรมเมอร์เจมส์</title>

<style>
body{
  background:#000;
  color:#fff;
  font-family:sans-serif;
  text-align:center;
  padding:20px;
}
input{
  font-size:20px;
  padding:10px;
  width:260px;
  border-radius:10px;
  border:none;
  text-align:center;
}
h1{margin-bottom:10px;}
.box{
  background:#fff;
  color:#000;
  padding:15px;
  border-radius:12px;
  margin:12px auto;
  width:90%;
  max-width:900px;
  word-wrap:break-word;
}
button{
  padding:6px 14px;
  font-size:14px;
  border:none;
  border-radius:20px;
  cursor:pointer;
}
.copy{background:#2196f3;color:#fff;}
</style>
</head>

<body>

<h1>เขียนจากโปรแกรมเมอร์เจมส์</h1>

<input id="input" placeholder="ใส่เลข เช่น 123456">

<p>เลขตั้งต้น</p>
<div id="base">-</div>

<h3>วิน 2 ตัว ไม่รวมเบิ้ล <button class="copy" onclick="copyText('twoNo')">คัดลอก</button></h3>
<div id="twoNo" class="box"></div>

<h3>วิน 2 ตัว รวมเบิ้ล <button class="copy" onclick="copyText('twoYes')">คัดลอก</button></h3>
<div id="twoYes" class="box"></div>

<h3>วิน 3 ตัว ไม่รวมเบิ้ล <button class="copy" onclick="copyText('threeNo')">คัดลอก</button></h3>
<div id="threeNo" class="box"></div>

<h3>วิน 3 ตัว รวมเบิ้ล <button class="copy" onclick="copyText('threeYes')">คัดลอก</button></h3>
<div id="threeYes" class="box"></div>

<script>
function cleanInput(v){
  // ❌ ถ้ามีอักขระอื่นนอกจากเลข = ไม่ทำงาน
  if(!/^[0-9]+$/.test(v)) return "";
  // ตัดเลขซ้ำ เฉพาะชุดนี้
  let out="";
  for(let c of v){
    if(!out.includes(c)) out+=c;
  }
  return out;
}

document.getElementById("input").addEventListener("input",()=>{
  let raw=document.getElementById("input").value.trim();
  let num=cleanInput(raw);
  if(num===""){
    clearAll();
    return;
  }
  document.getElementById("base").innerText=num;
  calc(num);
});

function clearAll(){
  document.getElementById("base").innerText="-";
  ["twoNo","twoYes","threeNo","threeYes"].forEach(id=>document.getElementById(id).innerText="");
}

function calc(num){
  let d=num.split("");

  /* ===== 2 ตัว ===== */
  let twoNo=[], twoYes=[];
  for(let i=0;i<d.length;i++){
    for(let j=i+1;j<d.length;j++){
      let v=d[i]+d[j];
      twoYes.push(v);
      if(d[i]!==d[j]) twoNo.push(v);
    }
  }

  /* รวมเบิ้ลแบบแท้ */
  d.forEach(x=>twoYes.push(x+x));

  document.getElementById("twoNo").innerText=[...new Set(twoNo)].join(" ");
  document.getElementById("twoYes").innerText=[...new Set(twoYes)].join(" ");

  /* ===== 3 ตัว ===== */
  let threeNo=[], threeYes=[];

  // ไม่รวมเบิ้ล
  for(let i=0;i<d.length;i++){
    for(let j=i+1;j<d.length;j++){
      for(let k=j+1;k<d.length;k++){
        threeNo.push(d[i]+d[j]+d[k]);
      }
    }
  }

  // รวมเบิ้ล (ไม่กลับ)
  for(let i=0;i<d.length;i++){
    for(let j=i;j<d.length;j++){
      for(let k=j;k<d.length;k++){
        threeYes.push(d[i]+d[j]+d[k]);
      }
    }
  }

  document.getElementById("threeNo").innerText=threeNo.join(" ");
  document.getElementById("threeYes").innerText=threeYes.join(" ");
}

function copyText(id){
  navigator.clipboard.writeText(document.getElementById(id).innerText);
  alert("คัดลอกแล้ว");
}
</script>

</body>
</html>










