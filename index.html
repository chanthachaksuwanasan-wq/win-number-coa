<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>เขียนจากโปรแกรมเมอร์เจมส์</title>

<style>
body{
  background:#000;
  color:#fff;
  font-family:sans-serif;
  text-align:center;
}
input{
  font-size:18px;
  padding:8px;
  width:220px;
}
button{
  padding:8px 14px;
  margin-left:6px;
  cursor:pointer;
}
.box{
  background:#fff;
  color:#000;
  border-radius:10px;
  padding:12px;
  margin:10px auto;
  width:90%;
  max-width:900px;
  word-wrap:break-word;
}
h1{margin-top:20px;}
.sub{color:#00e5ff}

/* toast */
#toast{
  position:fixed;
  bottom:30px;
  left:50%;
  transform:translateX(-50%);
  background:#00c853;
  color:#fff;
  padding:10px 18px;
  border-radius:20px;
  opacity:0;
  transition:.3s;
  z-index:9999;
}
#toast.show{opacity:1}
</style>
</head>

<body>

<h1>โปรแกรมวินเลข</h1>
<div class="sub">เขียนจากโปรแกรมเมอร์เจมส์</div>

<br>
<input id="input" placeholder="ใส่เลข เช่น 123456">
<button onclick="resetAll()">Reset</button>

<p>เลขตั้งต้น</p>
<div id="base"></div>

<h3>วิน 2 ตัว ไม่รวมเบิ้ล <button onclick="copyText('w2')">คัดลอก</button></h3>
<div class="box" id="w2"></div>

<h3>วิน 2 ตัว รวมเบิ้ล <button onclick="copyText('w2d')">คัดลอก</button></h3>
<div class="box" id="w2d"></div>

<h3>วิน 3 ตัว ไม่รวมเบิ้ล <button onclick="copyText('w3')">คัดลอก</button></h3>
<div class="box" id="w3"></div>

<h3>วิน 3 ตัว รวมเบิ้ล <button onclick="copyText('w3d')">คัดลอก</button></h3>
<div class="box" id="w3d"></div>

<div id="toast">คัดลอกแล้ว</div>

<script>
function cleanInput(v){
  return v.replace(/\D/g,'');
}

function unique(arr){
  return [...new Set(arr)];
}

document.getElementById("input").addEventListener("input", run);

function run(){
  const raw = document.getElementById("input").value;
  const num = cleanInput(raw);

  if(num.length < 2){
    resetOutput();
    return;
  }

  const d = unique(num.split(''));
  document.getElementById("base").innerText = d.join('');

  // 2 ตัว ไม่รวมเบิ้ล
  let w2=[];
  for(let i=0;i<d.length;i++){
    for(let j=i+1;j<d.length;j++){
      w2.push(d[i]+d[j]);
    }
  }

  // 2 ตัว รวมเบิ้ล (ไม่กลับ)
  let w2d=[];
  for(let i=0;i<d.length;i++){
    w2d.push(d[i]+d[i]);
    for(let j=i+1;j<d.length;j++){
      w2d.push(d[i]+d[j]);
    }
  }

  // 3 ตัว ไม่รวมเบิ้ล
  let w3=[];
  for(let i=0;i<d.length;i++){
    for(let j=i+1;j<d.length;j++){
      for(let k=j+1;k<d.length;k++){
        w3.push(d[i]+d[j]+d[k]);
      }
    }
  }

  // 3 ตัว รวมเบิ้ล (ไม่กลับ)
  let w3d=[];
  for(let i=0;i<d.length;i++){
    w3d.push(d[i]+d[i]+d[i]);
    for(let j=i+1;j<d.length;j++){
      w3d.push(d[i]+d[i]+d[j]);
      w3d.push(d[i]+d[j]+d[j]);
      for(let k=j+1;k<d.length;k++){
        w3d.push(d[i]+d[j]+d[k]);
      }
    }
  }

  w2 = unique(w2);
  w2d = unique(w2d);
  w3 = unique(w3);
  w3d = unique(w3d);

  document.getElementById("w2").innerText = w2.join(' ');
  document.getElementById("w2d").innerText = w2d.join(' ');
  document.getElementById("w3").innerText = w3.join(' ');
  document.getElementById("w3d").innerText = w3d.join(' ');
}

function resetOutput(){
  document.getElementById("base").innerText='';
  document.getElementById("w2").innerText='';
  document.getElementById("w2d").innerText='';
  document.getElementById("w3").innerText='';
  document.getElementById("w3d").innerText='';
}

function resetAll(){
  document.getElementById("input").value='';
  resetOutput();
}

function copyText(id){
  const t = document.getElementById(id).innerText;
  if(!t) return;
  navigator.clipboard.writeText(t);
  showToast();
}

function showToast(){
  const t=document.getElementById("toast");
  t.classList.add("show");
  setTimeout(()=>t.classList.remove("show"),1500);
}
</script>

</body>
</html>

























