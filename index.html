<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>โปรแกรมวินเลข</title>
<style>
body{
  background:#000;
  color:#fff;
  font-family:sans-serif;
  text-align:center;
  padding:20px
}
input{
  font-size:20px;
  padding:10px;
  width:260px;
  border-radius:10px;
  border:none;
  text-align:center
}
.box{
  background:#fff;
  color:#000;
  padding:15px;
  margin:10px auto;
  width:95%;
  border-radius:10px;
  word-break:break-word
}
button{
  padding:6px 14px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  background:#2196F3;
  color:#fff
}
.notice{
  height:18px;
  color:#0f0;
  font-size:14px
}
</style>
</head>
<body>

<h2>โปรแกรมวินเลข</h2>
<input id="num" placeholder="กรอกเลข เช่น 123456">

<div class="notice" id="msg"></div>

<h3>เลขตั้งต้น</h3>
<div id="base">-</div>

<h3>วิน 2 ตัว ไม่รวมเบิ้ล <button onclick="copy('twoNo')">คัดลอก</button></h3>
<div id="twoNo" class="box"></div>

<h3>วิน 2 ตัว รวมเบิ้ล <button onclick="copy('twoYes')">คัดลอก</button></h3>
<div id="twoYes" class="box"></div>

<h3>วิน 3 ตัว ไม่รวมเบิ้ล <button onclick="copy('threeNo')">คัดลอก</button></h3>
<div id="threeNo" class="box"></div>

<h3>วิน 3 ตัว รวมเบิ้ล <button onclick="copy('threeYes')">คัดลอก</button></h3>
<div id="threeYes" class="box"></div>

<script>
const input = document.getElementById("num");

input.addEventListener("input", ()=>{
  const v = input.value;

  // ❌ ถ้ามีอักขระอื่น ไม่ทำงาน
  if(!/^[0-9]*$/.test(v)){
    clearAll();
    return;
  }

  // ตัดเลขซ้ำ
  let seen = new Set();
  let clean = "";
  for(let d of v){
    if(!seen.has(d)){
      seen.add(d);
      clean += d;
    }
  }

  if(clean.length < 2){
    clearAll();
    return;
  }

  document.getElementById("base").innerText = clean;
  generate(clean);
});

function clearAll(){
  ["base","twoNo","twoYes","threeNo","threeYes"].forEach(id=>{
    document.getElementById(id).innerText = "";
  });
}

function generate(num){
  const d = num.split("");

  /* ===== 2 ตัว ===== */
  let twoNo = [];
  let twoYes = [];

  for(let i=0;i<d.length;i++){
    // รวมเบิ้ล
    twoYes.push(d[i]+d[i]);

    for(let j=i+1;j<d.length;j++){
      const v = d[i]+d[j];
      twoNo.push(v);
      twoYes.push(v);
    }
  }

  document.getElementById("twoNo").innerText = twoNo.join(" ");
  document.getElementById("twoYes").innerText = twoYes.join(" ");

  /* ===== 3 ตัว ===== */
  let threeNo = [];
  let threeYes = [];

  for(let i=0;i<d.length;i++){
    // เบิ้ล 3 ตัว
    threeYes.push(d[i]+d[i]+d[i]);

    for(let j=i+1;j<d.length;j++){
      // เบิ้ลหน้า / กลาง / หลัง
      threeYes.push(d[i]+d[i]+d[j]);
      threeYes.push(d[i]+d[j]+d[j]);

      for(let k=j+1;k<d.length;k++){
        const v = d[i]+d[j]+d[k];
        threeNo.push(v);
        threeYes.push(v);
      }
    }
  }

  document.getElementById("threeNo").innerText = threeNo.join(" ");
  document.getElementById("threeYes").innerText = threeYes.join(" ");
}

function copy(id){
  navigator.clipboard.writeText(document.getElementById(id).innerText);
  msg.innerText = "คัดลอกแล้ว";
  setTimeout(()=>msg.innerText="",800);
}
</script>

</body>
</html>







