<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>เขียนจากโปรแกรมเมอร์เจมส์</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { background:#000; color:#fff; font-family:Tahoma,sans-serif; text-align:center; }
    h1 { margin-top:20px; }
    .sub { color:#00e5ff; margin-bottom:20px; }
    input { padding:10px; font-size:18px; width:220px; border-radius:8px; }
    button { padding:10px 16px; border:none; border-radius:8px; cursor:pointer; }
    .reset { background:red; color:white; margin-left:6px; }
    .box { background:white; color:black; margin:10px auto; padding:12px; width:90%; border-radius:12px; }
    .copy { background:#1e90ff; color:white; margin-left:10px; }
    .title { margin-top:20px; font-weight:bold; }
  </style>
</head>
<body>

<h1>โปรแกรมวินเลข</h1>
<div class="sub">เขียนจากโปรแกรมเมอร์เจมส์</div>

<input id="numberInput" placeholder="ใส่ตัวเลข" />
<button class="reset" onclick="resetAll()">Reset</button>

<div class="title">เลขตั้งต้น</div>
<div id="base"></div>

<div class="title">วิน 2 ตัว ไม่รวมเบิ้ล <button class="copy" onclick="copyText('twoNo')">คัดลอก</button></div>
<div class="box" id="twoNo"></div>

<div class="title">วิน 2 ตัว รวมเบิ้ล <button class="copy" onclick="copyText('twoYes')">คัดลอก</button></div>
<div class="box" id="twoYes"></div>

<div class="title">วิน 3 ตัว ไม่รวมเบิ้ล <button class="copy" onclick="copyText('threeNo')">คัดลอก</button></div>
<div class="box" id="threeNo"></div>

<div class="title">วิน 3 ตัว รวมเบิ้ล <button class="copy" onclick="copyText('threeYes')">คัดลอก</button></div>
<div class="box" id="threeYes"></div>

<script>
// แก้ error input before initialization + ลอจิกไม่กลับเลข

document.addEventListener('DOMContentLoaded', () => {
  const input = document.getElementById('numberInput');

  input.addEventListener('input', () => {
    const nums = [...new Set(input.value.replace(/\D/g,'').split(''))];
    document.getElementById('base').innerText = nums.join('');

    genTwo(nums);
    genThree(nums);
  });
});

function genTwo(nums){
  let no = [];
  let yes = [];

  for(let i=0;i<nums.length;i++){
    for(let j=i+1;j<nums.length;j++){
      no.push(nums[i]+nums[j]);
    }
  }

  for(let i=0;i<nums.length;i++){
    for(let j=0;j<nums.length;j++){
      yes.push(nums[i]+nums[j]);
    }
  }

  document.getElementById('twoNo').innerText = no.join(' ');
  document.getElementById('twoYes').innerText = yes.join(' ');
}

function genThree(nums){
  let no = [];
  let yes = [];

  for(let i=0;i<nums.length;i++){
    for(let j=i+1;j<nums.length;j++){
      for(let k=j+1;k<nums.length;k++){
        no.push(nums[i]+nums[j]+nums[k]);
      }
    }
  }

  for(let i=0;i<nums.length;i++){
    for(let j=0;j<nums.length;j++){
      for(let k=0;k<nums.length;k++){
        yes.push(nums[i]+nums[j]+nums[k]);
      }
    }
  }

  document.getElementById('threeNo').innerText = no.join(' ');
  document.getElementById('threeYes').innerText = yes.join(' ');
}

function copyText(id){
  navigator.clipboard.writeText(document.getElementById(id).innerText);
}

function resetAll(){
  document.getElementById('numberInput').value='';
  ['base','twoNo','twoYes','threeNo','threeYes'].forEach(i=>document.getElementById(i).innerText='');
}
</script>

</body>
</html>

















